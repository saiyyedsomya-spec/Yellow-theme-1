<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PEARLORA - Luxury Handmade Handbags</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    /* ---------- Page base ---------- */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #000;
      color: gold;
    }
    header {
      background-color: #111;
      color: gold;
      padding: 12px 18px;
      font-size: 20px;
      font-weight: bold;
      border-bottom: 2px solid gold;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }
    .logo img { height: 60px; display: block; border-radius: 8px; }
    .header-right { display: flex; align-items: center; gap: 16px; }
    .track-link { display:flex; align-items:center; gap:8px; text-decoration:none; color:gold; font-weight:600; font-size:16px; }
    .track-link img { height:40px; width:40px; object-fit:contain; display:block; }
    .cart-btn { background:none; border:none; position:relative; cursor:pointer; padding:0; display:inline-flex; align-items:center; }
    .cart-btn img { height:44px; width:auto; display:block; }
    #cartCount { position:absolute; top:-6px; right:-6px; background:red; color:white; font-size:14px; font-weight:bold; border-radius:50%; padding:3px 7px; line-height:1; }

    /* ---------- Hero banner slider ---------- */
    .hero-slider { position: relative; width: 100%; max-height: 450px; overflow: hidden; margin-top:6px; }
    .hero-slider .slides { display:flex; transition: transform 0.5s ease-in-out; }
    .hero-slider img { width:100%; height:450px; object-fit:cover; }
    .hero-slider .prev, .hero-slider .next { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.5); color:white; border:none; padding:10px; cursor:pointer; font-size:24px; z-index:10; }
    .hero-slider .prev { left:10px; } .hero-slider .next { right:10px; }

    /* ---------- Headline ---------- */
    .headline {
      text-align: center;
      font-family: 'Great Vibes', cursive;
      font-size: 1.8rem;
      line-height: 1.4;
      font-weight: normal;
      background: linear-gradient(270deg, #ffdd44, #ffcc00, #d4af37, #fff5b7, #ffdd44);
      background-size: 400% 400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: goldMove 5s ease infinite;
      margin: 20px 0;
    }
    @keyframes goldMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

    /* ---------- Product grid & cards ---------- */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      padding: 20px;
    }
    .product-card {
      background-color: #1a1a1a;
      padding: 18px;
      border: 2px solid gold;
      text-align: center;
      border-radius: 12px;
      position: relative;
      min-height: 320px;
      display:flex;
      flex-direction:column;
      justify-content: space-between;
    }
    .product-card img {
      width: 100%;
      max-height: 140px;
      object-fit: cover;
      border-radius: 6px;
      cursor: pointer;
      display:block;
      margin: 8px auto 12px;
      background: #222;
    }
    .product-card h3 { margin: 6px 0; font-size: 26px; color: gold; }
    .price-wrap { margin: 6px 0 12px; }
    .old-price { text-decoration: line-through; color: #aaa; font-size: 14px; display:block; }
    .new-price { color: gold; font-weight: bold; font-size: 20px; margin-top: 4px; }
    .btn { background: gold; color: black; padding: 10px; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px; font-weight: 600; }
    .details-btn { background: transparent; border: 1px solid gold; color: gold; padding: 8px 12px; margin-top: 8px; border-radius: 8px; cursor: pointer; font-weight: 600; }
    .details-btn:hover { background: gold; color: black; }
    .discount-badge { position: absolute; top: 12px; left: 12px; background: red; color: white; padding: 6px 9px; font-size: 12px; font-weight: bold; border-radius: 6px; z-index: 5; }

    /* ---------- Cart Sidebar ---------- */
    #cartSidebar {
      position: fixed; top: 0; right: 0; width: 320px; height: 100%; background-color: #111;
      border-left: 2px solid gold; padding: 20px; overflow-y: auto; z-index: 1000;
      transform: translateX(100%); transition: transform 0.3s ease-in-out;
    }
    #cartSidebar.open { transform: translateX(0%); }
    .cart-item-card { display:flex; margin-bottom:15px; border-bottom:1px solid gold; padding-bottom:10px; }
    .cart-item-card img { width:60px; height:60px; object-fit:cover; border-radius:6px; }
    .cart-item-info { margin-left:10px; flex:1; color:gold; }
    .qty-controls button { background: gold; color: black; border: none; padding: 4px 8px; margin: 0 6px; cursor: pointer; border-radius:4px; }
    .remove-btn { background: red; color: white; border: none; padding: 6px 8px; font-size: 12px; margin-top: 6px; border-radius:6px; cursor:pointer; }
    button.close-cart { background: red; color: white; border: none; padding: 6px 10px; float: right; cursor: pointer; border-radius: 6px; font-size: 14px; margin-bottom: 10px; }
    #checkoutForm { margin-top: 20px; display: none; }
    #checkoutForm input { display: block; width: 100%; padding: 8px; margin: 6px 0; border-radius: 6px; border: none; }
    #thankYou { display:none; text-align:center; margin-top:50px; color:gold; animation: fadeIn 1s ease-in-out; }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo"><a href="index.html"><img src="pearlora-logo.jpg" alt="Pearlora Logo"></a></div>
    <div class="header-right">
      <a class="track-link" href="track.html"><img src="Track.png" alt="Track"><span>Track Order</span></a>
      <button class="cart-btn" onclick="toggleCart()"><img src="cart.png" alt="Cart"><span id="cartCount">0</span></button>
    </div>
  </header>

  <!-- Hero Slider -->
  <div class="hero-slider">
    <div class="slides">
      <img src="prebooking.jpg"><img src="banner2.jpg"><img src="banner3.jpg">
    </div>
    <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
    <button class="next" onclick="moveSlide(1)">&#10095;</button>
  </div>

  <div class="headline">Unbeatable Deals on Your Favorites<br> Shop Now & Save Big!</div>
  <div class="product-grid" id="productGrid"></div>

  <!-- Cart Sidebar -->
  <div id="cartSidebar">
    <h3>Your Cart</h3>
    <button onclick="toggleCart()" class="close-cart">‚ùå Close</button>
    <div id="cartItems"></div>
    <p>Total: ‚Çπ<span id="totalPrice">0</span></p>
    <button class="btn" onclick="showCheckout()">Proceed to Checkout</button>
    <div id="checkoutForm">
      <input type="text" id="name" placeholder="Name" required>
      <input type="text" id="address" placeholder="Address" required>
      <input type="text" id="pincode" placeholder="Pincode" required>
      <input type="text" id="mobile" placeholder="Mobile" required>
      <button class="btn" onclick="confirmPayment()">Confirm Payment</button>
    </div>
  </div>

  <div id="thankYou">
    <h1>üéâ Thank you for your order!</h1>
    <p>Your order ID is: <strong id="orderId"></strong></p>
  </div>

  <script>
    let cart = [];
    function toggleCart(){document.getElementById('cartSidebar').classList.toggle('open');updateCart();}
    function addToCart(id,name,price,image){const item=cart.find(p=>p.id===id);if(item)item.qty+=1;else cart.push({id,name,price,image,qty:1});updateCart();}
    function removeFromCart(id){cart=cart.filter(item=>item.id!==id);updateCart();}
    function increaseQty(id){const item=cart.find(p=>p.id===id);if(item)item.qty++;updateCart();}
    function decreaseQty(id){const item=cart.find(p=>p.id===id);if(item&&item.qty>1)item.qty--;updateCart();}
    function updateCart(){const cartItems=document.getElementById('cartItems');const totalPrice=document.getElementById('totalPrice');cartItems.innerHTML='';let total=0;cart.forEach(item=>{total+=item.price*item.qty;cartItems.innerHTML+=`<div class="cart-item-card"><img src="${item.image}"><div class="cart-item-info"><h4>${item.name}</h4><div><button onclick="decreaseQty('${item.id}')">-</button><span>${item.qty}</span><button onclick="increaseQty('${item.id}')">+</button></div><p>‚Çπ${item.price*item.qty}</p><button class="remove-btn" onclick="removeFromCart('${item.id}')">‚ùå Remove</button></div></div>`;});totalPrice.textContent=total;document.getElementById('cartCount').textContent=cart.reduce((sum,item)=>sum+item.qty,0);}
    function showCheckout(){document.getElementById('checkoutForm').style.display='block';}
    
    // FIXED PAYMENT FUNCTION
    function confirmPayment(){
      const name=document.getElementById('name').value.trim();
      const address=document.getElementById('address').value.trim();
      const pincode=document.getElementById('pincode').value.trim();
      const mobile=document.getElementById('mobile').value.trim();
      if(!name||!address||!pincode||!mobile){alert("Please fill all details.");return;}
      const total=cart.reduce((sum,item)=>sum+item.price*item.qty,0);
      const orderId="PLR"+Math.floor(Math.random()*1000000);
      document.getElementById('orderId').innerText=orderId;

      // UPI Payment Intent Link
      const upiLink=`upi://pay?pa=9587736906@axl&pn=Pearlora&am=${total}&cu=INR&tn=Order%20${orderId}`;
      // Try to open UPI app
      window.location.href=upiLink;
      // Fallback clickable link
      setTimeout(()=>{
        if(confirm("If your UPI app didn't open, click OK to try manually.")){
          window.open(upiLink,'_blank');
        }
      },2000);

      // Save order
      fetch("https://script.google.com/macros/s/AKfycbzg6gSRI_10EwrlyZFJckZrq9MSiVIBxSX9mtZ-XHKivcf-1UjAPuzxgZIHcrQVLl6QvA/exec",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({orderId,name,address,pincode,mobile,total})
      }).finally(()=>{
        document.getElementById('cartSidebar').classList.remove('open');
        document.getElementById('thankYou').style.display='block';
        cart=[];
        updateCart();
      });
    }

    // Sample Products
    const productGrid=document.getElementById('productGrid');
    for(let i=1;i<=3;i++){
      const id='p'+i,name=`Product ${i}`,image=`images/p${i}.jpg`,oldPrice=1600,newPrice=1;
      productGrid.innerHTML+=`<div class="product-card"><span class="discount-badge">90% OFF</span><img src="${image}"><h3>${name}</h3><div class="price-wrap"><span class="old-price">‚Çπ${oldPrice}</span><span class="new-price">‚Çπ${newPrice}</span></div><button class="btn" onclick="addToCart('${id}','${name}',${newPrice},'${image}')">Add to Cart</button></div>`;
    }
    document.addEventListener('DOMContentLoaded',updateCart);
  </script>
</body>
</html>
